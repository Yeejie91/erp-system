# 🚀 ERP系统快速开始指南

## 📋 系统访问

### 访问地址
```
http://localhost:3001
```

在浏览器中打开上述地址即可访问系统。

**注意：** 端口号可能因环境不同而不同，请查看终端输出的实际端口号。

---

## 🔐 默认登录信息

### 管理员账号
```
用户名: admin
密码: admin123
角色: 老板（Owner）
权限: 全部权限
```

**首次登录后，系统会自动创建管理员账号。**

---

## ✅ 完整测试流程

### 1️⃣ 登录系统

```
步骤：
1. 打开 http://localhost:3001
2. 输入用户名：admin
3. 输入密码：admin123
4. 点击"登录"

预期结果：
✓ 成功登录
✓ 显示系统主界面
✓ 右上角显示"admin (老板)"
```

---

### 2️⃣ 添加基础数据

#### 2.1 添加供应商

```
路径：基础数据 → 供应商管理

步骤：
1. 点击"添加供应商"
2. 填写信息：
   - 名称：ABC书店
   - 联系人：王经理
   - 电话：012-3456789
   - 地址：吉隆坡
3. 点击"保存"

再添加几个：
- XYZ出版社
- 好书供应商
```

#### 2.2 添加客户

```
路径：基础数据 → 客户管理

步骤：
1. 点击"添加客户"
2. 填写信息：
   - 姓名：张三
   - 电话：012-1111111
   - 地址：吉隆坡
3. 点击"保存"

再添加几个：
- 李四
- 王五
- 赵六
```

#### 2.3 添加商品

```
路径：商品库存 → 商品管理

步骤：
1. 点击"添加商品"
2. 填写信息：
   - 名称：《三字经》
   - SKU：SZJ001
   - 分类：国学经典
   - 单位：本
   - 成本价：8.00
   - 售价：15.00
   - 供应商：ABC书店
   - 最低库存：10
3. 点击"保存"

多添加几个商品：
- 《论语》
- 《孟子》
- 《弟子规》
- 《千字文》
```

---

### 3️⃣ 测试进货功能

```
路径：交易管理 → 进货管理

步骤：
1. 点击"新增进货"
2. 选择供应商：ABC书店
3. 账期：30天
4. 添加商品：
   - 《三字经》数量：50
   - 《论语》数量：30
5. 操作人：张三
6. 点击"确认进货"

预期结果：
✓ 进货成功
✓ 提示"已自动创建应付账款"
✓ 商品库存增加
✓ 可以在"应付账款"中看到新记录
```

**验证：**
- 商品库存 → 看到《三字经》库存+50
- 应付账款 → 看到ABC书店的欠款

---

### 4️⃣ 测试开单功能

```
路径：交易管理 → 开单管理

步骤：
1. 点击"新建发票"
2. 选择客户：张三
3. 添加商品：
   - 《三字经》x 5本
   - 《论语》x 3本
4. 立即付款：选择"是"
5. 付款金额：只付一半（如总额RM120，付RM60）
6. 付款方式：现金
7. 打印选项：选择"提交后打印"
8. 开单人：小李
9. 点击"提交"

预期结果：
✓ 发票创建成功
✓ 提示"已付RM60，未付RM60，已自动创建应收账款"
✓ 自动打开打印预览
✓ 商品库存自动减少
✓ 可以在"应收账款"中看到新记录
```

**验证：**
- 商品库存 → 《三字经》库存-5，《论语》库存-3
- 应收账款 → 看到张三的欠款RM60
- 发票列表 → 看到新发票

---

### 5️⃣ 测试应收账款收款

```
路径：业务管理 → 应收账款

步骤：
1. 找到刚才的账款（张三，未收RM60）
2. 点击 ➕ "收款"按钮
3. 填写：
   - 收款金额：RM60
   - 付款方式：T&G
   - 收款日期：今天
   - 参考号：TXN123456
4. 点击"确认收款"

预期结果：
✓ 收款成功
✓ 账款状态变为"已收清"
✓ 发票自动更新为"已付款"
```

---

### 6️⃣ 测试退货功能

```
路径：交易管理 → 退货管理

步骤：
1. 点击"创建退货单"
2. 选择刚才的发票
3. 选择退货商品：
   - 《三字经》退货数量：2
   - 入库数量：2
4. 退货原因：客户不满意
5. 点击"创建退货单"

预期结果：
✓ 退货单创建成功
✓ 状态：待审批

审批退货：
1. 点击 ✅ "批准"
2. 确认批准

完成退货：
1. 点击 📦 "完成退货"
2. 确认

预期结果：
✓ 库存自动恢复+2
✓ 退款记录已保存
✓ 状态变为"已完成"
```

---

### 7️⃣ 测试应付账款付款

```
路径：业务管理 → 应付账款

步骤：
1. 找到ABC书店的欠款
2. 点击 ➕ "付款"按钮
3. 填写：
   - 付款金额：（全额或部分）
   - 付款方式：银行转账
   - 付款日期：今天
   - 参考号：TRF987654
4. 点击"确认付款"

预期结果：
✓ 付款成功
✓ 账款状态更新
✓ 付款记录已保存
```

---

### 8️⃣ 查看销售报表

```
路径：业务管理 → 销售报表

查看内容：
✓ 今日销售额
✓ 本周销售额
✓ 本月销售额
✓ 发票数量统计
✓ 销售趋势
```

---

### 9️⃣ 查看操作日志

```
路径：系统管理 → 操作日志

查看内容：
✓ 所有操作记录
✓ 可以按模块筛选
✓ 可以按用户筛选
✓ 可以按时间筛选
✓ 可以导出CSV
```

---

### 🔟 测试权限系统

#### 创建其他角色用户

```
路径：系统管理 → 用户管理

创建收银员：
1. 点击"添加用户"
2. 填写信息：
   - 用户名：cashier
   - 密码：123456
   - 姓名：收银员小王
   - 角色：收银员
3. 点击"保存"

创建仓管员：
1. 用户名：warehouse
2. 密码：123456
3. 姓名：仓管员小李
4. 角色：仓管员
```

#### 测试不同角色权限

```
1. 登出当前用户（点击右上角"退出登录"）

2. 用收银员登录：
   - 用户名：cashier
   - 密码：123456
   
   可以看到：
   ✓ 可以开单
   ✓ 可以查看应收账款
   ✓ 可以收款
   ✗ 不能删除发票
   ✗ 不能查看应付账款
   ✗ 不能管理用户

3. 再用仓管员登录：
   - 用户名：warehouse
   - 密码：123456
   
   可以看到：
   ✓ 可以进货
   ✓ 可以管理库存
   ✓ 可以查看应付账款
   ✓ 可以完成退货
   ✗ 不能开单
   ✗ 不能查看应收账款
```

---

## 🎨 界面导航

### 侧边栏菜单结构

```
📊 仪表盘
└─ 总览、统计

📦 商品库存
├─ 商品管理
└─ 库存管理

🛒 交易管理
├─ 进货管理
├─ 出货管理
├─ 开单管理
└─ 退货管理

💼 业务管理
├─ 活动管理
├─ 财务管理
├─ 销售报表
├─ 应收账款
└─ 应付账款

👥 基础数据
├─ 客户管理
└─ 供应商管理

⚙️ 系统管理
├─ 用户管理
└─ 操作日志
```

---

## 💡 使用技巧

### 1. 快速添加

**开单时快速添加客户/商品：**
- 不需要事先在客户/商品管理添加
- 开单界面直接点击"快速添加"
- 填写基本信息即可

### 2. 价格标签打印

**路径：** 商品库存 → 库存管理

**操作：**
1. 勾选要打印的商品
2. 点击"打印价格标签"
3. 选择标签尺寸
4. 点击"打印"

### 3. 发票打印

**方式1：** 开单时选择"提交后打印"

**方式2：** 在发票列表点击打印按钮

**打印内容包括：**
- 公司信息（半亩天光 Spark of Wisdom Centre）
- 发票号
- 客户信息
- 商品明细
- 付款信息
- 二维码

### 4. Excel导出

**位置：** 右上角 📊 "导出数据"

**可导出：**
- 商品数据
- 客户数据
- 供应商数据
- 发票数据
- 库存交易
- 应收账款
- 应付账款
- 操作日志

**筛选：**
- 全部时间
- 今天
- 本周
- 本月
- 自定义时间范围

### 5. 发票作废

**注意：** 作废 ≠ 删除

**作废功能：**
- 发票保留在系统中
- 发票号可以重复使用
- 记录作废原因和操作人
- 已作废发票显示为灰色

**删除功能：**
- 永久删除发票记录
- 需要二次确认
- 只有老板可以删除

---

## 🔍 常见场景测试

### 场景1：客户赊账

```
1. 开单时不选择立即付款
2. 系统自动创建应收账款
3. 30天后客户付款
4. 在应收账款页面记录收款
```

### 场景2：供应商账期

```
1. 进货时选择供应商
2. 设置账期（如30天）
3. 系统自动创建应付账款
4. 到期前付款给供应商
5. 在应付账款页面记录付款
```

### 场景3：部分退货

```
1. 客户退回部分商品
2. 创建退货单
3. 设置退货数量和入库数量
4. 经理审批
5. 仓管完成退货
6. 库存自动恢复
7. 退款自动处理
```

### 场景4：逾期提醒

```
1. 查看应收账款页面
2. 系统自动标记逾期账款为红色
3. 显示"逾期X天"
4. 可以按逾期状态筛选
```

---

## 📱 浏览器建议

**推荐浏览器：**
- ✅ Chrome（最佳）
- ✅ Edge
- ✅ Firefox
- ✅ Safari

**分辨率建议：**
- 最小：1366x768
- 推荐：1920x1080或更高

---

## 🛠️ 开发服务器管理

### 启动服务器

```bash
cd "/Users/yannfong/learning-system-simple 4/erp-system"
npm run dev
```

### 停止服务器

**按 Ctrl + C** 在终端中停止服务器

### 重启服务器

如果遇到问题，可以重启：
```bash
# 停止服务器（Ctrl + C）
# 然后重新启动
npm run dev
```

---

## 📊 数据说明

### 数据存储

**存储位置：** 浏览器 IndexedDB

**特点：**
- ✅ 本地存储，不需要服务器
- ✅ 数据持久化
- ✅ 刷新页面数据不丢失
- ⚠️ 清除浏览器数据会删除所有ERP数据

### 数据备份

**导出数据：**
1. 点击右上角"导出数据"
2. 选择要导出的数据类型
3. 选择时间范围
4. 点击"导出为Excel"
5. 保存文件

**建议：** 定期导出重要数据作为备份

---

## ❓ 常见问题

### Q1: 忘记密码怎么办？

**A:** 
1. 停止服务器
2. 清除浏览器的IndexedDB数据
3. 重新启动服务器
4. 系统会重新创建默认管理员账号

### Q2: 数据丢失了怎么办？

**A:** 
- 如果有导出的Excel备份，可以参考数据重新录入
- 建议定期导出数据备份

### Q3: 如何清空所有数据重新开始？

**A:**
1. 打开浏览器开发者工具（F12）
2. Application → Storage → IndexedDB
3. 删除"ERPSystem"数据库
4. 刷新页面

### Q4: 打印没有反应？

**A:**
- 检查浏览器是否阻止了弹出窗口
- 允许弹出窗口后重试
- Chrome需要允许 localhost 打开新窗口

### Q5: 发票编号重复了？

**A:**
- 检查是否有已作废的发票
- 系统会跳过已作废发票的编号
- 如果仍有问题，可以使用"手动输入发票号"功能

---

## 🎯 下一步

### 1. 熟悉系统

- ✅ 按照上述流程完整测试一遍
- ✅ 尝试不同角色的登录
- ✅ 体验各个功能模块

### 2. 录入真实数据

- ✅ 添加您的真实供应商
- ✅ 添加您的真实客户
- ✅ 添加您的商品清单
- ✅ 录入当前库存

### 3. 日常使用

- ✅ 每日开单记录
- ✅ 定期查看应收应付账款
- ✅ 及时处理退货
- ✅ 定期查看销售报表
- ✅ 定期导出数据备份

---

## 📞 技术支持

**系统已完全构建完成！**

如果在使用过程中遇到任何问题：
- 🐛 Bug反馈
- 💡 功能建议
- ❓ 使用疑问

随时联系获得帮助！

---

## 🎉 开始使用

**一切就绪！现在就可以开始使用您的ERP系统了！**

访问：**http://localhost:3001**

祝使用愉快！ 📚✨

